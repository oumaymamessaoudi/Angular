<link href="/assets/FrontOffice/css/_site-blocks.css" rel="stylesheet">
<link href="/assets/FrontOffice/css/aos.css" rel="stylesheet">
<link href="/assets/FrontOffice/css/bootstrap-datepicker.css" rel="stylesheet">
<link href="/assets/FrontOffice/css/bootstrap.min.css" rel="stylesheet">
<link href="/assets/FrontOffice/css/bootstrap.min.css.map" rel="stylesheet">
<link href="/assets/FrontOffice/css/jquery-ui.css" rel="stylesheet">
<link href="/assets/FrontOffice/css/jquery.fancybox.min.css" rel="stylesheet">
<link href="/assets/FrontOffice/css/magnific-popup.css" rel="stylesheet">
<link href="/assets/FrontOffice/css/mediaelementplayer.css" rel="stylesheet">
<link href="/assets/FrontOffice/css/owl.carousel.min.css" rel="stylesheet">
<link href="/assets/FrontOffice/css/owl.theme.default.min.css" rel="stylesheet">
<link href="/assets/FrontOffice/css/style.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
<link href="/assets/FrontOffice/scss/_site-navbar.scss" rel="stylesheet">
<link href="/assets/FrontOffice/scss/_site-blocks.scss" rel="stylesheet">
<link href="/assets/FrontOffice/scss/_site-base.scss" rel="stylesheet">
<link href="/assets/FrontOffice/scss/style.scss" rel="stylesheet">
<header class="site-navbar light js-sticky-header site-navbar-target" role="banner">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-qi99IU6MzfE0zJ4tZ6R7nv5CqZLef5NGFBkODe7Jq9FtJRMX+lsbM+gwRfJBK6Ix0U9ROA6ek6P7J2EN2pAYAJA==" crossorigin="anonymous" />

    <div class="container">
      <div class="row align-items-center">

        <div class="col-6 col-xl-2">
          <div class="mb-0 site-logo"><a href="index.html" class="mb-0">ElderlyCare<span class="text-primary"></span> </a></div>
        </div>

        <div class="col-12 col-md-10 d-none d-xl-block">
          <nav class="site-navigation position-relative text-right" role="navigation">

            <ul class="site-menu main-menu js-clone-nav mr-auto d-none d-lg-block">
              <li><a routerLink="/home"class="active nav-link">Home</a></li>
              <li class="has-children">

<a href="#" class="nav-link dropdown-toggle" id="servicesDropdown" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> Services </a>  
              <ul class="dropdown">
                  <li><a  class="nav-link" routerLink="/new">New Appointment</a></li>
                  <li><a routerLink="/listE" class="nav-link">My Appointments</a></li>
       
                  <li class="has-children">
                    <a href="#">More Links</a>
                    <ul class="dropdown">
                      <li><a href="#">Menu One</a></li>
                      <li><a href="#">Menu Two</a></li>
                      <li><a href="#">Menu Three</a></li>
                    </ul>
                  </li>
                </ul>
              </li>

              <li><a routerLink="/listD" class="nav-link">Doctor's Appointments</a></li>
        
        
                      <li><a href="profilerelative" class="nav-link">Profile</a></li>
                      <li><a href="/signIn" class="nav-link">SignOut</a>
            <li  ><a href="#contact-section" class="nav-link"><i class="fab fa-facebook fa-lg"></i></a></li>
              <li  ><a href="#contact-section" class="nav-link"><i class="fab fa-twitter fa-lg"></i></a></li>
              <li  ><a href="#contact-section" class="nav-link"><i class="fab fa-linkedin fa-lg"></i></a></li>
                  </ul>
          </nav>
        </div>


        <div class="col-6 d-inline-block d-xl-none ml-md-0 py-3" style="position: relative; top: 3px;"><a href="#" class="site-menu-toggle js-menu-toggle float-right"><span class="icon-menu h3 text-white"></span></a></div>

      </div>
    </div>





<link href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet">


<h2 class="text-center">Relative Complaints</h2>

<div class="row justify-content-center">
  <ng-container *ngFor="let complaint of complaints$ | async | paginate: { itemsPerPage: 4, currentPage: p }; let i = index">
    <div class="col-md-4">
      <div class="card mb-3 border-primary"> <!-- Ajoute une bordure bleue -->
        <div class="card-body">
          <h5 class="card-title text-primary">Complaint {{ i + 1 }}</h5> <!-- Affiche le numéro de la plainte -->
          <p class="card-text">Category: {{ complaint.category }}</p> <!-- Laisse la ligne "Category" normale -->
          <p class="card-text">Type: {{ complaint.type }}</p>        
          <p class="card-text">Description: {{ complaint.description }}</p>
          <p class="card-text">Priority: {{ complaint.priority }}</p>
          <div *ngIf="(files$ | async) as files">
            <h2>Files Added:</h2>
            <ul>
              <li *ngFor="let file of files">
                {{ file.name }}
              </li>
            </ul>
          </div>
          <p class="card-text" *ngIf="complaint.creationDate">Creation Date: {{ complaint.creationDate | date: 'longDate' }}</p>
          
          <div *ngIf="emotionResults[complaint.complaintID]">
            <h4>
              <span style="color: rgb(96, 0, 113);">Emotion Detection Result :</span>
            </h4>
            
            <p>Final Result : {{ getEmoji(emotionResults[complaint.complaintID].score_tag) }}</p>
            
           
            <p>Doctor Notes: {{ complaint.notes }}</p> <!-- Ajoutez cette ligne pour afficher les notes du médecin -->

          </div>
         <!-- Affichez une notification Bootstrap si les notes du médecin existent -->
  <div *ngIf="complaint.notes" class="alert alert-success" role="alert">
    Your complaint has been resolved
  </div>
  <div *ngIf="!complaint.notes" class="alert alert-danger" role="alert">
    Your complaint is currently under review.
  </div>
  
          <div class="d-flex justify-content-between align-items-center"> <!-- Aligne les icônes à droite -->
            <button type="button" class="btn btn-success" (click)="navigateToUpdate(complaint.complaintID)">
              <i class="bi bi-check-circle-fill"></i> Update
            </button>
                        
            
          
            <!-- Bouton de suppression -->
            <button type="button" class="btn btn-danger" (click)="deleteComplaint(complaint.complaintID)">
              Delete
            </button>
            <div *ngIf="isDeleted" class="alert alert-success" role="alert">
              Complaint deleted successfully.
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Ajoute une rangée vide après chaque deuxième élément -->
    <div class="w-100 d-md-none d-lg-none" *ngIf="(i + 1) % 2 === 0"></div>
    <div class="w-100 d-none d-md-block d-lg-block" *ngIf="(i + 1) % 2 === 0"></div>
  </ng-container>
</div>
<div class="row justify-content-center">
  <div class="col-md-4">
    <pagination-controls (pageChange)="p = $event"></pagination-controls>
  </div>
